/**
 * @name Cosmic Liquid Glass
 * @version 2.5.0
 * @author Solta & jAba65
 * @description Deep space theme with smooth liquid transitions, glassmorphism, and glow effects
 * @source https:https://github.com/So1ta/So1ta.github.io/tree/main/discord-themes
*/

@import url("https://jAba65.github.io/Discord%20Theme/jAba.css");

/* ========================================================================= */
/* 1. НАСТРОЙКИ ТЕМЫ (Переменные) */
/* ========================================================================= */
:root {
    /* -- ГЛАВНЫЕ ЦВЕТА -- */
    --cosmic-void: #02000a;         /* Базовый черный */
    --cosmic-deep-blue: #0f0f3d;    /* Глубокий синий */
    --cosmic-nebula-blue: #1a1a5e;  /* Туманность синяя */
    --cosmic-purple: #3d0052;       /* Космический фиолетовый */
    --cosmic-magenta: #5a0048;      /* Маджента */
    --cosmic-accent: #00d4ff;       /* Яркий акцент (голубой) для свечения */
    --cosmic-accent-secondary: #ff00ff; /* Вторичный акцент (розовый) */

    /* -- ЭФФЕКТЫ -- */
    --blur-bg: 100px;               /* Сила размытия фона */
    --glass-blur: 20px;             /* Сила размытия стеклянных панелей */
    --glass-opacity: 0.45;          /* Прозрачность панелей (0-1) */
    --glow-intensity: 15px;         /* Сила свечения кнопок */
}

/* ========================================================================= */
/* 2. АНИМАЦИИ */
/* ========================================================================= */

/* Плавное движение слоев фона (Layer 1 - Медленный) */
@keyframes drift-layer-1 {
    0%   { background-position: 0% 50%; }
    50%  { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

/* Плавное движение слоев фона (Layer 2 - Быстрый, встречный) */
@keyframes drift-layer-2 {
    0%   { background-position: 100% 0%; }
    50%  { background-position: 0% 100%; }
    100% { background-position: 100% 0%; }
}

/* Мерцание звезд */
@keyframes twinkle {
    0% { opacity: 0.4; }
    50% { opacity: 1; }
    100% { opacity: 0.4; }
}

/* Пульсация яркости фона ("Дыхание") */
@keyframes deep-breath {
    0%, 100% { filter: brightness(0.6) saturate(1.2); }
    50%      { filter: brightness(0.8) saturate(1.5); }
}

/* Свечение уведомлений */
@keyframes pulse-glow {
    0% { box-shadow: 0 0 5px var(--cosmic-accent); }
    50% { box-shadow: 0 0 20px var(--cosmic-accent); }
    100% { box-shadow: 0 0 5px var(--cosmic-accent); }
}

/* ========================================================================= */
/* 3. ОСНОВНОЙ КОСМИЧЕСКИЙ ФОН (Исправленный рандом) */
/* ========================================================================= */
html {
    height: 100%;
    margin: 0;
    background-color: var(--cosmic-void);
    overflow: hidden;
}

/* Главный слой туманностей */
html::before {
    content: '';
    position: fixed;
    top: -50%; left: -50%;
    width: 200%; height: 200%;
    z-index: -2;
    
    /* Глубокие туманности (без изменений, они и так плавные) */
    background: 
        radial-gradient(circle at 50% 50%, var(--cosmic-accent) 0%, transparent 45%),
        radial-gradient(ellipse at 70% 20%, var(--cosmic-purple) 0%, transparent 50%),
        radial-gradient(ellipse at 20% 80%, var(--cosmic-magenta) 0%, transparent 55%),
        radial-gradient(ellipse at 30% 30%, var(--cosmic-nebula-blue) 0%, transparent 60%),
        radial-gradient(ellipse at 80% 70%, var(--cosmic-deep-blue) 0%, transparent 70%),
        radial-gradient(circle, var(--cosmic-void) 100%, var(--cosmic-void) 100%);

    background-size: 60% 60%, 120% 120%, 100% 100%, 150% 150%, 180% 180%, 100% 100%;
    background-attachment: fixed;
    
    filter: blur(var(--blur-bg)) brightness(0.6);
    animation: 
        drift-layer-1 60s linear infinite,
        drift-layer-2 45s linear infinite reverse,
        deep-breath 15s ease-in-out infinite;
}

/* 
   СЛОЙ ЗВЕЗД (Полный хаос и рандом)
   Мы создаем 4 "облака" звезд разного размера и яркости.
   Каждая звезда прописана вручную со случайными координатами (%, %),
   что разрушает эффект сетки.
*/
html::after {
    content: '';
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    z-index: -1;
    pointer-events: none;

    /* 
       МЫ УБИРАЕМ background-size и background-repeat!
       Теперь это не паттерн, а список конкретных точек.
    */
    background:
        /* 1. Мелкие тусклые звезды (фоновая пыль) */
        radial-gradient(1px 1px at 10% 10%, rgba(255,255,255,0.4), transparent),
        radial-gradient(1px 1px at 20% 40%, rgba(255,255,255,0.3), transparent),
        radial-gradient(1px 1px at 50% 80%, rgba(255,255,255,0.4), transparent),
        radial-gradient(1px 1px at 70% 20%, rgba(255,255,255,0.2), transparent),
        radial-gradient(1px 1px at 90% 60%, rgba(255,255,255,0.3), transparent),
        radial-gradient(1px 1px at 15% 70%, rgba(255,255,255,0.3), transparent),
        radial-gradient(1px 1px at 35% 30%, rgba(255,255,255,0.4), transparent),
        radial-gradient(1px 1px at 85% 90%, rgba(255,255,255,0.2), transparent),

        /* 2. Средние яркие звезды (разбросаны хаотично) */
        radial-gradient(1.5px 1.5px at 25% 15%, rgba(255,255,255,0.7), transparent),
        radial-gradient(1.5px 1.5px at 65% 45%, rgba(255,255,255,0.8), transparent),
        radial-gradient(1.5px 1.5px at 80% 10%, rgba(255,255,255,0.6), transparent),
        radial-gradient(1.5px 1.5px at 5% 50%, rgba(255,255,255,0.7), transparent),
        radial-gradient(1.5px 1.5px at 40% 60%, rgba(255,255,255,0.5), transparent),
        radial-gradient(1.5px 1.5px at 95% 30%, rgba(255,255,255,0.6), transparent),
        radial-gradient(1.5px 1.5px at 12% 85%, rgba(255,255,255,0.8), transparent),
        radial-gradient(1.5px 1.5px at 55% 5%, rgba(255,255,255,0.7), transparent),
        radial-gradient(1.5px 1.5px at 33% 95%, rgba(255,255,255,0.6), transparent),

        /* 3. Крупные звезды (редкие, для акцента) */
        radial-gradient(2px 2px at 90% 85%, rgba(255,255,255,0.9), transparent),
        radial-gradient(2px 2px at 10% 30%, rgba(255,255,255,0.9), transparent),
        radial-gradient(2px 2px at 50% 50%, rgba(255,255,255,0.8), transparent),
        radial-gradient(2px 2px at 75% 70%, rgba(255,255,255,0.9), transparent),
        
        /* 4. Цветные "космические" искры (голубые и фиолетовые) */
        radial-gradient(2px 2px at 20% 80%, var(--cosmic-accent), transparent),
        radial-gradient(2px 2px at 60% 10%, var(--cosmic-accent-secondary), transparent),
        radial-gradient(1.5px 1.5px at 40% 40%, var(--cosmic-accent), transparent);

    /* 
       Анимация "twinkle" теперь работает как глобальное мерцание,
       потому что отдельные звезды двигаться не могут (они часть одной картинки).
       Но так как их много и они разноцветные, это выглядит как живое небо.
    */
    animation: twinkle 10s ease-in-out infinite alternate;
}

/* ========================================================================= */
/* 4. ЭФФЕКТ СТЕКЛА (GLASSMORPHISM) */
/* ========================================================================= */

/* Основные панели интерфейса */
.theme-dark .layers-OrUESM,
.theme-dark .sidebar-2K8pFh,
.theme-dark .chat-2ZfjoI,
.theme-dark .members-3WRCrW,
.theme-dark .container-ZMc96U,
.theme-dark .form-3gdPxP,
.theme-dark .bg-1QIAay {
    background-color: rgba(0, 0, 0, var(--glass-opacity)) !important;
    backdrop-filter: blur(var(--glass-blur)) saturate(180%) !important;
    -webkit-backdrop-filter: blur(var(--glass-blur)) saturate(180%) !important;
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37) !important;
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
    border-radius: 12px !important;
    margin: 8px !important;
}

/* Убираем конфликты с внутренними элементами */
.theme-dark .scroller-2FKFPG,
.theme-dark .list-2uUYGC,
.theme-dark .messagesWrapper-RpOMA3 {
    background: none !important;
    box-shadow: none !important;
    border: none !important;
    margin: 0 !important;
}

/* ========================================================================= */
/* 5. СВЕЧЕНИЕ И ИНТЕРАКТИВНОСТЬ (GLOW & INTERACTIVE) */
/* ========================================================================= */

/* Свечение кнопок при наведении */
.button-12SeJq:hover,
.lookFilled-yCfaCM.colorBrand-I6CyqQ:hover {
    box-shadow: 0 0 var(--glow-intensity) var(--cosmic-accent), 0 0 30px rgba(0, 212, 255, 0.3) !important;
    transition: box-shadow 0.3s ease-in-out !important;
}

/* Эффект для поля ввода сообщения */
.scrollableContainer-15eg7h {
    box-shadow: inset 0 0 15px rgba(0, 212, 255, 0.1) !important;
    transition: box-shadow 0.3s ease !important;
    border-radius: 8px !important;
}

.scrollableContainer-15eg7h:focus-within {
    box-shadow: inset 0 0 25px rgba(0, 212, 255, 0.2), 0 0 10px rgba(0, 212, 255, 0.15) !important;
}

/* Аватары пользователей */
.avatar-2e8lTP {
    box-shadow: 0 0 0 3px rgba(0, 212, 255, 0.2) !important;
    transition: box-shadow 0.3s ease !important;
}
.avatar-2e8lTP:hover {
    box-shadow: 0 0 0 5px rgba(0, 212, 255, 0.4) !important;
}

/* Сообщения в чате */
.message-2CShn3 {
    transition: transform 0.2s ease, box-shadow 0.2s ease !important;
    border-radius: 8px !important;
}
.message-2CShn3:hover {
    transform: translateX(4px) !important;
    box-shadow: -4px 0 15px rgba(0, 212, 255, 0.1) !important;
    background-color: rgba(255, 255, 255, 0.03) !important;
}

/* Пульсация непрочитанных сообщений */
.unread-36eUEk {
    animation: pulse-glow 2s infinite;
}

/* ========================================================================= */
/* 6. ПРОЧИЕ УЛУЧШЕНИЯ */
/* ========================================================================= */

/* Убираем лишние шумы */
body {
    background: none !important;
}

/* Скроллбар в стиле темы */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}
::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 4px;
}
::-webkit-scrollbar-thumb {
    background: rgba(0, 212, 255, 0.3);
    border-radius: 4px;
}
::-webkit-scrollbar-thumb:hover {
    background: rgba(0, 212, 255, 0.6);
}
